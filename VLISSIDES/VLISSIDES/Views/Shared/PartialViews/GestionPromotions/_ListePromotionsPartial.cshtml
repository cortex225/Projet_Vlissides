@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@

@{
    var myURL = Context.Request.Host.Value;
    var BASE_URL_RAZOR = Url.Content("~");
}
@model List<VLISSIDES.ViewModels.GestionPromotions.GestionPromotionsIndexVM>
<div class="mb-3 mx-3">
    <div class="row px-2">
        <h5 class="col-2 text-center">
            Nom Promotion
        </h5>
        <h5 class="col-2 text-center">
            Date de Debut
        </h5>
        <div class="col-2 text-center">
            Date de Fin
        </div>
        <h5 class="col-2 text-center">
            Rabais (%)
        </h5>
        <h5 class="col-2 text-center">
            Type de promotion
        </h5>
    </div>

</div>
@foreach (var item in Model)
{
    <div id="@item.Id" class="card mb-2 mx-3 ">
        <div class="card-body row p-2 align-items-center">
            <div class="imgDiv col-2 text-center">
                @{
                    var couverture = string.Concat(BASE_URL_RAZOR, item.Image);
                }
                <img src="@Html.Raw(couverture)" alt="..." class="imagesLivre" height="50px">
                <p>@Html.DisplayFor(modelItem => item.Nom)</p>

            </div>
            <div class="col-2 text-center">
                @Html.DisplayFor(modelItem => item.DateDebut)
            </div>
            <div class="col-2 text-center">
                @Html.DisplayFor(modelItem => item.DateFin)
            </div>
            <div class="col-2 text-center">
                @Html.DisplayFor(modelItem => item.Rabais)
            </div>
            <div class="col-2 text-center">
                @Html.DisplayFor(modelItem => item.TypePromotion)
            </div>
            <div class="col-2 text-center d-flex flex-row justify-content-evenly h-40">

                <a class="btn btn-primary p-2" onclick="ShowModal('@Url.Action("ModifierPromotion", "GestionPromotions", new { id = item.Id })')" data-toggle="tooltip" title="Modifier le livre">
                    <span class="fa-solid fa-pen fa-2x"></span>
                </a>
                <a class="btn btn-danger p-2" data-toggle="tooltip" title="Supprimer l'evenement" onclick="ShowModal('@Url.Action("MontrerConfirmationSuppression", "GestionPromotions", new { id = item.Id })')">
                    <span class="fa-solid fa-trash fa-2x"></span>
                </a>


            </div>
        </div>
    </div>
}