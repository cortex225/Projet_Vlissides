@model VLISSIDES.ViewModels.GestionCommandes.AffichageCommandeVM
@{
}
@foreach (var commande in @Model.ListCommandes)
{
    <div id="Commande_@commande.Id" class="card my-2 p-2" style="">
        <div class="row no-gutters">
            <div class="d-flex justify-content-center">
                <h4 class="card-title">#@commande.Id</h4>
            </div>
            <div class="col-sm-7">

                <div class="">
                    <h5 class="card-title">Article:</h5>
                    <ul>
                        @foreach (var item in commande.LivreCommandes)
                        {
                            <li>@item.Quantite x @item.Livre.Titre</li>
                        }
                    </ul>
                </div>
            </div>
            <div class="col-sm-5">
                <div class="">
                    <p>Nom d'utilisateur: @commande.MembreUserName</p>
                    <p>Prix: @commande.PrixTotal</p>
                    <div class="form-group">
                        <label asp-for="StatutId" class="control-label"></label>
                        <select id="@commande.Id statut" onchange="ModifierStatut(), enableButton()">
                            @foreach(var statut in Model.SelectListStatut)
                            {
                                if(statut.Value == commande.StatutId)
                                {
                                    <option value="@statut.Value" selected="true">@statut.Text</option>
                                }
                                else
                                {
                                   <option value="@statut.Value">@statut.Text</option> 
                                }
                                <button id="saveButton @commande.Id" type="button" data-toggle="tooltip" title="Sauvegarder la quantité" class="btn btn-success saveButton px-3" onclick="
                                                saveStatut('@commande.Id', '@commande.StatutId')
                                                disableButton('@commande.Id')">

                                    <span class="fa-solid fa-check fa-2x"></span>

                                </button>                          
                            }
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </div>
}

