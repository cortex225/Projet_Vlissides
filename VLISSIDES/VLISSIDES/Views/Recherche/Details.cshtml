@using VLISSIDES.ViewModels.Recherche;
@model DetailsLivreVM
@{
}


<link rel="stylesheet" href="~/css/Details.css">
<div id="detailsDivPrincipal">
    <div id="DetailsDIV">
        <img id="DetailsIMG" src="@Model.Couverture"/>
    </div>

    <div id="DetailsInfo">
        <h2>@Model.Titre</h2>

        <div id="checkboxTypeLivre">

        </div>
        @foreach (var type in Model.LivreTypeLivres)
        {
            <p>Prix @Html.DisplayFor(modelItem => type.TypeLivre.Nom) : @Html.DisplayFor(modelItem => type.Prix) $</p>
        }
        <p>Auteur(s): @Model.lAuteur.NomAuteur </p>
        <p>Catégorie(s): @Model.laCategorie.Nom </p>
        <p>Date publication: @Model.DatePublication</p>
        <p>Éditeur: @Model.maisonEdition.Nom</p>
        <p>Nombre de pages: @Model.NbPages</p>
        <strong>Résumé:</strong>
        <p>@Model.Resume</p>
        <br/>
    </div>
    <div>
        @foreach (var t in Model.LivreTypeLivres)
        {
            @if (t.TypeLivreId == "1")//1 = "Neuf"
            {
                <br />
                @if (Model.NbExemplaires > 0)
                {
                    <p style="font-weight: bold;">En stock (@Model.NbExemplaires restants)</p>
                    <div class="btn-group" role="group" aria-label="Basic example">

                        <a href="#" class="btn btn-primary btnPanier">
                            <i class="fa-solid fa-basket-shopping"></i>Ajouter au panier (Neuf)
                        </a>
                        <input type="number" id="quantite" name="quantite" min="1" max="@Model.NbExemplaires" step="1" value="1">
                    </div>
                }
                else
                {
                    <p style="font-weight: bold; color: red;">Livre neuf en rupture de stock</p>
                }
            }
            @if (t.TypeLivreId == "2")//2 = "Numérique"
            {
                <a href="#" class="btn btn-primary btnPanier">
                    <i class="fa-solid fa-basket-shopping"></i>Ajouter au panier (Numérique)
                </a>
            }
        }
    </div>
</div>